{"version":3,"sources":["../../../../es6/dev/templating/utils/List.js"],"names":[],"mappings":"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","file":"List.js","sourcesContent":["/**\n * Created by guntars on 02/02/2016.\n */\ndefine(function () {\n    'use strict';\n    class List {\n        constructor(items) {\n            this._map = new Map(items);\n            this._indexes = [...this._map.keys()];\n            this._onDelete = [];\n        };\n\n        keys() {\n            return this._indexes;\n        };\n\n        values() {\n            return this.entries().map((entry)=> {\n                return entry[1];\n            })\n        };\n\n        entries() {\n            return this._indexes.map((key)=> {\n                return [key, this._map.get(key)]\n            })\n        };\n\n        get(key) {\n            return this._map.get(key);\n        };\n\n        forEach(fn) {\n            return this.values().forEach((value, index, ...args)=> {\n                return fn.apply(null, [value, index, ...args]);\n            })\n        };\n\n        getIndex(key) {\n            return this._indexes.indexOf(key);\n        };\n\n        changeIndex(key, index) {\n            if (key) {\n                let indexes = this._indexes,\n                    indexOf = indexes.indexOf(key);\n\n                if (indexOf !== -1 && index !== indexOf) {\n                    this._indexes.splice(index, 0, this._indexes.splice(indexOf, 1)[0]);\n                }\n            }\n        };\n\n        getValueByIndex(index) {\n            return this._map.get(this._indexes[index]);\n        };\n\n        get first() {\n            return this.getValueByIndex(0);\n        };\n\n        get last() {\n            return this.getValueByIndex(this._indexes.length - 1);\n        };\n\n        getKeyByIndex(index) {\n            return this._indexes[index];\n        };\n\n        set(key, value, index) {\n            this._map.set(key, value);\n            if (index !== undefined) {\n                this._indexes.splice(index, 0, key);\n            } else {\n                this._indexes.push(key);\n            }\n        };\n\n        has(key) {\n            return this._map.has(key);\n        };\n\n        clear() {\n            this._map.clear();\n            this._indexes.splice(0, this._indexes.length);\n        };\n\n        onDelete(cb) {\n            let chunk = (...args)=>cb(...args);\n            this._onDelete.push(chunk);\n            return {\n                remove(){\n                    this._onDelete.splice(this._onDelete.indexOf(chunk, 1));\n                }\n            }\n        };\n\n        delete(key) {\n            if (this.has(key)) {\n                let item = this._map.get(key);\n                this._map.delete(key);\n                this._indexes.splice(this._indexes.indexOf(key), 1);\n                this._onDelete.forEach(chunk=>chunk(key, this.size, item));\n            }\n        };\n\n        deleteByIndex(index) {\n            this.delete(this._indexes[index]);\n        };\n\n        get size() {\n            return this._map.size\n        };\n\n    }\n    return List;\n});"]}